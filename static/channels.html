<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Golty - Channels</title>
        <link rel="shortcut icon" type="image/x-icon" href="/static/favicon.ico"/>
        <link rel="stylesheet" href="/static/bootstrap-4.4.1/css/bootstrap.min.css">
</head>
<body>
<ul class="nav nav-pills justify-content-center m-3">
    <li class="nav-item">
        <a class="nav-link active" href="#">Channels</a>
    </li>
    <li class="nav-item">
        <a class="nav-link" href="playlists">Playlists</a>
    </li>
    <li class="nav-item">
        <a class="nav-link" href="videos">Videos</a>
    </li>
</ul>
<div class="container">
    <div class="form-group mt-4">
        <label for="channel-url">Channel URL</label>
        <input type="text" class="form-control" id="channel-url" placeholder="https://www.youtube.com/user/example">
    </div>

    <div class="d-flex justify-content-center text-primary mb-4">
        <div class="spinner-border d-none" id="channel-metadata-spinner" role="status">
        </div>
    </div>

    <ul class="list-group mb-4 d-none" id="channel-metadata">
        <li class="list-group-item">Channel: <span id="channel-name"></span></li>
        <li class="list-group-item">Latest Video: <span><a href="" target="_blank" id="channel-latest-video"></a></span></li>
        <li class="list-group-item">Video URL: <span><a href="" target="_blank" id="channel-latest-video-url"></a></span></li>
    </ul>

    <div class="form-group form-inline">
        <select class="form-control" id="download-mode" onchange="changeExtension()" disabled>
            <option value="Audio Only">Audio Only</option>
            <option value="Video And Audio">Video And Audio</option>
        </select>
        <div class="form-group ml-2">
            <select class="form-control" id="file-extension" disabled>
                <option value="mp3">mp3</option>
                <option value="m4a">m4a</option>
                <option value="wav">wav</option>
            </select>
        </div>
        <div class="form-group ml-2">
            <select class="form-control" id="download-quality" disabled>
                <option value="8k">highest available (recommended for now)</option>
                <option value="8k">7680x4320 (8K)</option>
                <option value="4k">3840x2160 (4K)</option>
                <option value="1080">1920x1080 (1080p)</option>
                <option value="720">1280x720 (720p)</option>
                <option value="480">640x480 (480p)</option>
                <option value="360">480x360 (360p)</option>
                <option value="240">320x240 (240p)</option>
                <option value="144">240x144 (144p)</option>
            </select>
        </div>
    </div>
    <div class="custom-control custom-checkbox mb-3">
        <input type="checkbox" class="custom-control-input" id="download-entire" disabled>
        <label class="custom-control-label" for="download-entire">Download the entire channel (will ignore youtube-dl errors so it doesn't crash)</label>
    </div>

    <div class="custom-control custom-radio">
        <input type="radio" onclick="customYtdl(this.id)" name="custom-output" id="custom-ytdl-output"  class="custom-control-input" disabled>
        <label class="custom-control-label mb-2" for="custom-ytdl-output">Enter custom youtube-dl output</label>
    </div>
    <div class="custom-control custom-radio mb-1">
        <input type="radio" onclick="customYtdl(this.id)" name="custom-output" id="custom-download-output" class="custom-control-input" disabled>
        <label class="custom-control-label" for="custom-download-output">Enter custom download path</label>
    </div>
    <div class="custom-control custom-radio mb-1" >
        <input type="radio" onclick="customYtdl(this.id)" name="custom-output" id="custom-ytdl-command" class="custom-control-input" disabled>
        <label class="custom-control-label" for="custom-ytdl-command">Enter custom youtube-dl command</label>
    </div>
    <input type="text" class="form-control mb-1" id="download-path" oninput="changeOutputPathIndicator(this.id)" placeholder="" disabled>
    <div class="form-group form-inline">
        <p class="pr-1">Output path: </p><p class="mb-3 text-muted" id="output-path-indicator">/channels/%(uploader)s/audio/%(title)s.%(ext)s</p>
    </div>

    <button class="btn btn-primary mb-3" onclick="downloadTarget()">Add Channel And Download<div id="add-channel-spinner" class="spinner-border align-middle ml-2 d-none"></div></button>

    <div class="form-group form-inline">
        <label for="checking-interval">Check All Channels Every: </label>
        <input type="number" class="form-control ml-1" id="checking-interval">
        <input type="hidden" id="list-type" value="Channel">
        <div class="form-group ml-2">
            <select class="form-control" id="time">
                <option value="minutes">minutes</option>
                <option value="hours">hours</option>
                <option value="days">days</option>
            </select>
        </div>
        <button class="btn btn-primary ml-2" onclick="updateCheckingInterval()">Save<div id="update-checking-interval-spinner" class="spinner-border align-middle ml-2 d-none"></div></button>

    </div>
    <button class="btn btn-primary float-right" onclick="checkAll()">Check All<div id="check-all-spinner" class="spinner-border align-middle ml-2 d-none"></div></button>

    <h2 class="mt-2">Listening to these channels: </h2>
    <div id="accordion">
    </div>

    <script src="/static/js/jquery.js"></script>
    <script src="/static/bootstrap-4.4.1/js/bootstrap.min.js"></script>
    <script src="/static/js/download.js"></script>
    <script src="/static/js/channels.js"></script>
</div>
</body>
</html>